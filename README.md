# 고객 이탈 예측 모형과 군집별 맞춤 전략

<br>

## 진행기간
> **2023/05/13~05/22**
<br>


## 사용 데이터
> **신용카드 사용 정보 및 고객 이탈 관련 데이터**
<br>

## 개발 환경
> **Python**
<br>

### 역할
> **EDA, Data Prerprocessing, Modeling, 보고서 작성**
<br>

## 분석 주제
> **고객 이탈 예측 모형과 군집별 맞춤 전략**
<br>


## 분석 목표

- `고객 이탈 가능성을 예측`하고, 고객을 특성에 따라 군집화하여 각 `군집별 맞춤형 서비스`를 제공함으로써 최종적으로 고객 이탈 감소
    - 이탈 가능성이 높은 고객군을 식별하고 그 특성을 분석
    - 다양한 기계학습 모델을 통해 이탈 예측 정확도를 극대화
        - 이탈 신호를 조기에 포착하여 기업의 서비스 개선책을 마련하고, 고객 만족도를 향상시키며 추가적인 서비스 구매를 유도
    - 고객 군집화를 통해 동질적인 속성을 가진 군집들을 생성하고, 각 군집의 고유한 특성과 요구를 이해
        - 분석 결과를 바탕으로 군집별 맞춤형 서비스 및 마케팅 전략을 제안
    - 고객의 거래 패턴, 서비스 사용 행태, 그리고 다른 데이터를 종합적으로 분석하여 이탈 가능성을 사전에 예측하고, 적극적인 대응 전략 수립
- **분석 결과를 바탕으로 고객 이탈에 끼치는 영향을 파악하고, 군집별 맞춤형 서비스 및 마케팅 전략을 제안하여 고객 만족도를 향상**
- `고객 이탈을 최소화`하고 기업의 장기적인 경쟁력을 확보시키는 실질적인 방안을 제공

<br>

## 문제 정의 및 KPI 설정

- **문제 정의: 고객 이탈 예측 및 방지 전략 개발**
    - 어떤 고객 특성이 이탈에 영향을 끼치는지 파악하고, 이탈 가능성이 높은 고객군을 식별 후 `이탈 방지`를 위한 `전략 수립`
- **KPI**
    - `Macro-average F1 Score`: 각 클래스에 대한 F1 Score를 단순 평균
    - `MCC`: TP, TN, FP, FN을 모두 고려한 측정 지표
    - `매튜스 상관 계수(Matthews Correlation Coefficient, MCC)`: 이진 분류에서 실제와 예측값 사이의 상관관계를 -1부터 1 사이의 값으로 나타내며, 불균형 데이터셋에서도 성능을 정확하게 측정
    - `G-평균(G-Mean)`: 민감도(재현율)와 특이도를 동시에 고려하여, 각 클래스의 예측 성능을 조화롭게 평가하는 척도
- **고객 이탈 예측**: 고객 이탈 여부를 예측하고 그 영향력을 해석 후 이탈 원인을 식별
- **고객 유지 전략**: 고객 세그먼트에 대한 타겟 마케팅 전략을 수립
<br>


## 분석 요약(담당 부분)

1. EDA
    1. Multivariate EDA
    2. 이탈 여부를 중심으로 Univariate EDA
    3. 파생 변수 생성
2. Modeling
    1. Data Augmentation(SMOTE, ADASYN)
    2. Feature Selection
        1. PCA, Truncated SVD
        2. RFE, Lasso
    3. Cross Validation
    4. HyperParameter Tunning
3. 결과 해석
<br>





## 분석 과정

**`Columns`**

|  |  |  |  |
| --- | --- | --- | --- |
| **CLIENTNUM** | 각 고객의 고유 식별자 | **Months_Inactive_12_mon** | 지난 12개월 동안 고객이 활동하지 않은 개월 수 |
| **Attrition_Flag** | 고객 이탈 여부 | **Contacts_Count_12_mon** | 지난 12개월 동안 고객이 연락한 수 |
| **Customer_Age** | 고객 연령 | **Credit_Limit** | 고객 신용 한도 금액 평균(지난 12개월) |
| **Gender** | 고객 성별 | **Total_Revolving_Bal** | 이월된 미납 총 금액 평균(지난 12개월) |
| **Dependent_count** | 고객 부양가족 수 | **Avg_Open_To_Buy** | 구매 가능 신용 한도 금액 평균(지난 12개월) |
| **Education_Level** | 고객 교육 수준 | **Total_Amt_Chng_Q4_Q1** | 4분기 대비 1분기의 거래 금액 변동 |
| **Marital_Status** | 고객 결혼 상태 | **Total_Trans_Amt** | 총 거래 금액(지난 12개월) |
| **Income_Category** | 고객 소득 범주 | **Total_Trans_Ct** | 총 거래 수(지난 12개월) |
| **Card_Category** | 고객이 보유한 카드 종류 | **Total_Ct_Chng_Q4_Q1** | 4분기 대비 1분기의 거래 수 변동 |
| **Months_on_book** | 고객의 계좌 유지 기간 | **Avg_Utilization_Ratio** | 카드 평균 활용률 |
| **Total_Relationship_Count** | 고객이 신용 카드 제공업체와 맺은 총 관계 수(카드, 계좌 등) |  |  |

- 활용한 데이터는 상기 기술된 것과 같이 신용카드 사용 정보와 그에 따른 고객 이탈 여부의 정보를 제공
- 원본 데이터 셋에서는 총 10127개 행과 21개의 열로 구성
- 연령과 성별 등 고객 정보와 관련된 열과 계좌 유지 기간, 활동하지 않은 개월 수, 거래 금액 등 카드 사용 정보와 관련된 상세한 열들로 구성
- 결측은 존재하지 않지만 skew 된 분포를 가지는 변수가 다수 존재
- 지난 12개월의 기간을 평균 내거나 종합하는 식의 변수로 구성되어 있음을 고려
- 타겟 변수인 Attrition_Flag는 이탈한 고객의 비율이 약 16%로 불균형하여 Sampling 기법을 고려


<br>


### *EDA*





























